{
  "info": {
    "name": "Chiratae LinkedIn Scraper API",
    "description": "Collection for testing the Chiratae LinkedIn Scraper API endpoints",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Auth",
      "description": "Authentication related endpoints",
      "item": [
        {
          "name": "Register User",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Test User\",\n  \"email\": \"testuser@example.com\",\n  \"password\": \"Password123!\",\n  \"phone\": 1234567890,\n  \"employeeId\": \"EMP001\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/users/register",
              "host": ["{{baseUrl}}"],
              "path": ["api", "users", "register"]
            },
            "description": "Register a new regular user"
          }
        },
        {
          "name": "Login",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "const response = pm.response.json();",
                  "if (response.token) {",
                  "    pm.environment.set('authToken', response.token);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"testuser@example.com\",\n  \"password\": \"Password123!\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/users/login",
              "host": ["{{baseUrl}}"],
              "path": ["api", "users", "login"]
            },
            "description": "Log in a user and get auth token"
          }
        },
        {
          "name": "Register Admin",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Admin User\",\n  \"email\": \"admin@example.com\",\n  \"password\": \"AdminPass123!\",\n  \"phone\": 9876543210,\n  \"employeeId\": \"ADMIN001\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/users/registerAdmin",
              "host": ["{{baseUrl}}"],
              "path": ["api", "users", "registerAdmin"]
            },
            "description": "Register a new admin user (requires admin token)"
          }
        },
        {
          "name": "Login Admin",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "const response = pm.response.json();",
                  "if (response.token) {",
                  "    pm.environment.set('adminToken', response.token);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"admin@example.com\",\n  \"password\": \"AdminPass123!\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/users/loginAdmin",
              "host": ["{{baseUrl}}"],
              "path": ["api", "users", "loginAdmin"]
            },
            "description": "Log in an admin user"
          }
        },
        {
          "name": "Refresh Token",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"refreshToken\": \"{{refreshToken}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/users/refreshToken",
              "host": ["{{baseUrl}}"],
              "path": ["api", "users", "refreshToken"]
            },
            "description": "Get a new access token using refresh token"
          }
        },
        {
          "name": "Get Current User",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/users/me",
              "host": ["{{baseUrl}}"],
              "path": ["api", "users", "me"]
            },
            "description": "Get the currently logged in user's profile"
          }
        },
        {
          "name": "Update Current User",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Updated User Name\",\n  \"phone\": 1234567899\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/users/me/update",
              "host": ["{{baseUrl}}"],
              "path": ["api", "users", "me", "update"]
            },
            "description": "Update the currently logged in user's profile"
          }
        }
      ]
    },
    {
      "name": "Users",
      "description": "User management endpoints (admin only)",
      "item": [
        {
          "name": "Get All Users",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/users",
              "host": ["{{baseUrl}}"],
              "path": ["api", "users"]
            },
            "description": "Get all users (admin only)"
          }
        },
        {
          "name": "Get User by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/users/{{userId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "users", "{{userId}}"]
            },
            "description": "Get a single user by ID (admin only)"
          }
        },
        {
          "name": "Update User",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Updated User\",\n  \"isActive\": true,\n  \"role\": \"USER\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/users/{{userId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "users", "{{userId}}"]
            },
            "description": "Update a user (admin only)"
          }
        },
        {
          "name": "Delete User",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/users/{{userId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "users", "{{userId}}"]
            },
            "description": "Delete a user (admin only)"
          }
        }
      ]
    },
    {
      "name": "Campaigns",
      "description": "Campaign management endpoints",
      "item": [
        {
          "name": "Create Campaign",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "const response = pm.response.json();",
                  "if (response.data && response.data._id) {",
                  "    pm.environment.set('campaignId', response.data._id);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Test Campaign\",\n  \"searchQuery\": \"software engineer\",\n  \"linkedinAccountId\": \"{{linkedinAccountId}}\",\n  \"proxyId\": \"{{proxyId}}\",\n  \"location\": \"Bangalore\",\n  \"maxResults\": 50,\n  \"connectionDegree\": \"2nd\",\n  \"priority\": \"medium\",\n  \"keywords\": [\"java\", \"typescript\", \"node.js\"]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/campaigns",
              "host": ["{{baseUrl}}"],
              "path": ["api", "campaigns"]
            },
            "description": "Create a new LinkedIn search campaign"
          }
        },
        {
          "name": "Get All Campaigns",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/campaigns",
              "host": ["{{baseUrl}}"],
              "path": ["api", "campaigns"]
            },
            "description": "Get all campaigns for the current user"
          }
        },
        {
          "name": "Get Campaign by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/campaigns/{{campaignId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "campaigns", "{{campaignId}}"]
            },
            "description": "Get a single campaign by ID"
          }
        },
        {
          "name": "Update Campaign",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Updated Campaign\",\n  \"maxResults\": 75,\n  \"keywords\": [\"java\", \"typescript\", \"node.js\", \"react\"]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/campaigns/{{campaignId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "campaigns", "{{campaignId}}"]
            },
            "description": "Update an existing campaign"
          }
        },
        {
          "name": "Delete Campaign",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/campaigns/{{campaignId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "campaigns", "{{campaignId}}"]
            },
            "description": "Delete a campaign"
          }
        },
        {
          "name": "Add Campaign to Queue",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"campaignId\": \"{{campaignId}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/campaigns/queue",
              "host": ["{{baseUrl}}"],
              "path": ["api", "campaigns", "queue"]
            },
            "description": "Add a campaign to the execution queue"
          }
        },
        {
          "name": "Get Campaign Results",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/campaigns/{{campaignId}}/results",
              "host": ["{{baseUrl}}"],
              "path": ["api", "campaigns", "{{campaignId}}", "results"]
            },
            "description": "Get results for a specific campaign"
          }
        },
        {
          "name": "Search LinkedIn",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/campaigns/{{campaignId}}/searchLinkedin",
              "host": ["{{baseUrl}}"],
              "path": ["api", "campaigns", "{{campaignId}}", "searchLinkedin"]
            },
            "description": "Trigger a LinkedIn search for a campaign"
          }
        },
        {
          "name": "LinkedIn Profile Scraping",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/campaigns/{{campaignId}}/linkedInProfileScrappingReq",
              "host": ["{{baseUrl}}"],
              "path": ["api", "campaigns", "{{campaignId}}", "linkedInProfileScrappingReq"]
            },
            "description": "Trigger LinkedIn profile scraping for a campaign"
          }
        },
        {
          "name": "Schedule Campaign",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"scheduledFor\": \"2023-12-01T10:00:00Z\",\n  \"recurrence\": \"weekly\",\n  \"scheduleEndDate\": \"2024-01-01T00:00:00Z\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/campaigns/{{campaignId}}/schedule",
              "host": ["{{baseUrl}}"],
              "path": ["api", "campaigns", "{{campaignId}}", "schedule"]
            },
            "description": "Schedule a campaign for future execution"
          }
        }
      ]
    },
    {
      "name": "LinkedIn Accounts",
      "description": "LinkedIn account management endpoints",
      "item": [
        {
          "name": "Create LinkedIn Account",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "const response = pm.response.json();",
                  "if (response.data && response.data._id) {",
                  "    pm.environment.set('linkedinAccountId', response.data._id);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"linkedin_user\",\n  \"password\": \"LinkedIn123!\",\n  \"email\": \"linkedin@example.com\",\n  \"description\": \"Test LinkedIn account\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/linkedinAccounts",
              "host": ["{{baseUrl}}"],
              "path": ["api", "linkedinAccounts"]
            },
            "description": "Create a new LinkedIn account"
          }
        },
        {
          "name": "Get All LinkedIn Accounts",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/linkedinAccounts",
              "host": ["{{baseUrl}}"],
              "path": ["api", "linkedinAccounts"]
            },
            "description": "Get all LinkedIn accounts"
          }
        },
        {
          "name": "Get LinkedIn Account by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/linkedinAccounts/{{linkedinAccountId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "linkedinAccounts", "{{linkedinAccountId}}"]
            },
            "description": "Get a LinkedIn account by ID"
          }
        },
        {
          "name": "Update LinkedIn Account",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"password\": \"NewLinkedIn123!\",\n  \"isActive\": true,\n  \"description\": \"Updated LinkedIn account\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/linkedinAccounts/{{linkedinAccountId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "linkedinAccounts", "{{linkedinAccountId}}"]
            },
            "description": "Update a LinkedIn account"
          }
        },
        {
          "name": "Delete LinkedIn Account",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/linkedinAccounts/{{linkedinAccountId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "linkedinAccounts", "{{linkedinAccountId}}"]
            },
            "description": "Delete a LinkedIn account"
          }
        }
      ]
    },
    {
      "name": "Proxies",
      "description": "Proxy management endpoints",
      "item": [
        {
          "name": "Create Proxy",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "const response = pm.response.json();",
                  "if (response.data && response.data._id) {",
                  "    pm.environment.set('proxyId', response.data._id);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"host\": \"proxy.example.com\",\n  \"port\": 8080,\n  \"username\": \"proxyuser\",\n  \"password\": \"ProxyPass123!\",\n  \"protocol\": \"http\",\n  \"description\": \"Test proxy\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/proxies",
              "host": ["{{baseUrl}}"],
              "path": ["api", "proxies"]
            },
            "description": "Create a new proxy"
          }
        },
        {
          "name": "Get All Proxies",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/proxies",
              "host": ["{{baseUrl}}"],
              "path": ["api", "proxies"]
            },
            "description": "Get all proxies"
          }
        },
        {
          "name": "Get Proxy by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/proxies/{{proxyId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "proxies", "{{proxyId}}"]
            },
            "description": "Get a proxy by ID"
          }
        },
        {
          "name": "Update Proxy",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"password\": \"NewProxyPass123!\",\n  \"isActive\": true,\n  \"description\": \"Updated proxy\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/proxies/{{proxyId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "proxies", "{{proxyId}}"]
            },
            "description": "Update a proxy"
          }
        },
        {
          "name": "Delete Proxy",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/proxies/{{proxyId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "proxies", "{{proxyId}}"]
            },
            "description": "Delete a proxy"
          }
        }
      ]
    },
    {
      "name": "Leads",
      "description": "Lead management endpoints",
      "item": [
        {
          "name": "Get All Leads",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/leads?campaignId={{campaignId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "leads"],
              "query": [
                {
                  "key": "campaignId",
                  "value": "{{campaignId}}"
                }
              ]
            },
            "description": "Get all leads, optionally filtered by campaign"
          }
        },
        {
          "name": "Get Lead by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/leads/{{leadId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "leads", "{{leadId}}"]
            },
            "description": "Get a lead by ID"
          }
        },
        {
          "name": "Update Lead",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"CONTACTED\",\n  \"rating\": \"A\",\n  \"leadAssignedToId\": \"{{userId}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/leads/{{leadId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "leads", "{{leadId}}"]
            },
            "description": "Update a lead's status, rating, or assignment"
          }
        },
        {
          "name": "Add Comment to Lead",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"text\": \"Reached out via email, waiting for response\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/leads/{{leadId}}/comments",
              "host": ["{{baseUrl}}"],
              "path": ["api", "leads", "{{leadId}}", "comments"]
            },
            "description": "Add a comment to a lead"
          }
        },
        {
          "name": "Get Lead Comments",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/leads/{{leadId}}/comments",
              "host": ["{{baseUrl}}"],
              "path": ["api", "leads", "{{leadId}}", "comments"]
            },
            "description": "Get all comments for a lead"
          }
        }
      ]
    }
  ]
}
